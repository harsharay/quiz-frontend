(this["webpackJsonpquiz-frontend"]=this["webpackJsonpquiz-frontend"]||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),r=n.n(s),a=n(20),o=n.n(a),i=n(8),j=n(2),u=(n(28),n(11)),l=n(13),b=n(22),h=n(4),d=(n(29),"https://secure-bastion-48741.herokuapp.com/api/getUserData?username=_USERNAME_"),O=function(e){var t=Object(s.useState)([]),n=Object(h.a)(t,2),r=n[0],a=n[1],o=Object(s.useState)([]),i=Object(h.a)(o,2),j=i[0],d=i[1],O=Object(s.useState)({}),p=Object(h.a)(O,2),x=p[0],m=p[1],f=Object(s.useState)(0),v=Object(h.a)(f,2),g=(v[0],v[1]),S=Object(s.useState)(!1),k=Object(h.a)(S,2),w=k[0],y=k[1],q=Object(s.useState)(!1),N=Object(h.a)(q,2),A=N[0],D=N[1];Object(s.useEffect)((function(){e.propsData.location.username?fetch("https://secure-bastion-48741.herokuapp.com/api/getQuestions").then((function(e){return e.json()})).then((function(e){a(Object(b.a)(e)),e.forEach((function(e){return d((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(u.a)({},e.questionId,{correctAnswer:e.correctAnswer,marks:e.marks}))}))}))})):D(!0)}),[e]);var C=function(e){var t=e.target.value,n=e.target.id;m((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(u.a)({},n,t))}))};return Object(c.jsx)("div",{className:"questions-block",children:A?Object(c.jsx)("h1",{children:"Cant take the test without username, go back to login page"}):Object(c.jsxs)("form",{className:"questions-grid",onSubmit:function(t){t.preventDefault();var n=0;for(var c in j)console.log(j[c].correctAnswer,x[c],j[c].marks),j[c].correctAnswer===x[c]?n+=j[c].marks:n-=j[c].marks/4;g(n),y(!0),fetch("https://secure-bastion-48741.herokuapp.com/api/saveFormData",{method:"POST",body:JSON.stringify({username:e.propsData.location.username,score:n,userAnswers:x,data:r}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)})),e.propsData.history.push({pathname:"/result",username:e.propsData.location.username,score:n,userAnswers:x,data:r})},children:[r&&r.map((function(e,t){return Object(c.jsxs)("div",{className:"question",children:[Object(c.jsxs)("h1",{children:[t+1,": ",e.question]}),e.options.map((function(t,n){return Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{type:"radio",value:t,onChange:C,id:e.questionId,name:e.questionId,required:!0}),Object(c.jsx)("span",{children:t})]},n)}))]},t)})),!w&&Object(c.jsx)("button",{type:"submit",className:"submitButton",children:"Submit"})]})})};n(30);var p=function(e){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("h1",{children:"Welcome to the Quiz"}),Object(c.jsx)(i.b,{to:"/userData",children:"See your previous results(if any)"}),Object(c.jsx)(O,{propsData:e})]})},x=(n(36),function(e){return Object(c.jsx)("div",{className:"results-block",children:e.location.data?Object(c.jsxs)("div",{children:[Object(c.jsxs)("h1",{children:["Hi, ",Object(c.jsx)("b",{children:e.location.username}),", your results are:"]}),Object(c.jsxs)("div",{className:"test-title",children:[Object(c.jsxs)("h1",{children:["Total Score: ",Object(c.jsx)("span",{className:"score",children:e.location.score})]}),Object(c.jsx)("p",{children:"Detailed info below"})]}),e.location.data.map((function(t,n){return Object(c.jsxs)(r.a.Fragment,{children:[Object(c.jsx)("h1",{children:t.question}),Object(c.jsxs)("p",{children:["Correct Answer: ",t.correctAnswer]}),Object(c.jsxs)("p",{children:["Your answer: ",e.location.userAnswers[t.questionId]]})]},n)}))]}):Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"No results to show"}),Object(c.jsx)(i.b,{to:"/",children:"Go Home"})]})})}),m=(n(37),function(){var e=Object(s.useState)(""),t=Object(h.a)(e,2),n=t[0],a=t[1],o=Object(s.useState)([]),i=Object(h.a)(o,2),j=i[0],u=i[1],l=Object(s.useState)(!1),b=Object(h.a)(l,2),O=b[0],p=b[1],x=Object(s.useState)(!1),m=Object(h.a)(x,2),f=m[0],v=m[1];return Object(c.jsxs)("div",{className:"userData-block",children:[Object(c.jsxs)("div",{className:"test-title",children:[Object(c.jsx)("h1",{children:"UserData"}),Object(c.jsx)("p",{children:"Search your user name to see tour previous results(if any)"}),Object(c.jsx)("input",{type:"text",placeholder:"type here",value:n,onChange:function(e){var t=e.target.value;a(t)}}),Object(c.jsx)("button",{onClick:function(){v(!0),p(!0);var e=d.replace("_USERNAME_",n);fetch(e).then((function(e){return e.json()})).then((function(e){u(e),p(!1)}))},children:"Submit"})]}),O&&Object(c.jsx)("h1",{children:"Loading..."}),f&&Object(c.jsx)("div",{children:j.length>0?Object(c.jsx)("div",{children:j.map((function(e,t){return Object(c.jsxs)(r.a.Fragment,{children:[Object(c.jsx)("hr",{}),Object(c.jsxs)("h3",{className:"test-title",children:["Test ",t+1," Score: ",Object(c.jsx)("span",{className:"score",children:e.score})]}),e.data.map((function(t,n){return Object(c.jsxs)(r.a.Fragment,{children:[Object(c.jsx)("h3",{children:t.question}),Object(c.jsxs)("p",{children:["Your answer: ",t.correctAnswer]}),Object(c.jsxs)("p",{children:["Actual answer: ",e.userAnswers[t.questionId]]})]},n)})),Object(c.jsx)("hr",{})]},t)}))}):Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Looks like you haven't taken any test"})})})]})}),f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),r(e),a(e)}))},v=(n(38),function(){var e=Object(s.useState)(""),t=Object(h.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)([]),o=Object(h.a)(a,2),j=o[0],u=o[1],l=Object(s.useState)(!1),b=Object(h.a)(l,2),O=b[0],p=b[1],x=Object(s.useState)(!1),m=Object(h.a)(x,2),f=m[0],v=m[1];return Object(c.jsxs)("div",{className:"welcome-block",children:[Object(c.jsx)("h1",{children:"Welcome to the login page"}),Object(c.jsxs)("div",{className:"welcome-login-block",children:[Object(c.jsx)("p",{children:"Enter your username"}),Object(c.jsx)("input",{type:"text",placeholder:"type here...",onChange:function(e){var t=e.target.value;r(t)},value:n}),Object(c.jsx)("button",{onClick:function(){v(!0);var e=d.replace("_USERNAME_",n.toLowerCase());fetch(e).then((function(e){return e.json()})).then((function(e){u(e),p(!0),v(!1)}))},children:"Submit"})]}),f&&Object(c.jsx)("h4",{children:"Loading..."}),O&&Object(c.jsx)("div",{children:0===j.length?Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"This is the first time you are taking this test"}),Object(c.jsx)(i.b,{to:{pathname:"/questions",username:n},children:"Go to questions page"})]}):Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"You have previously taken tests"}),Object(c.jsx)(i.b,{to:{pathname:"/questions",username:n},children:"Go to questions page"})]})})]})});o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(i.a,{children:Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{path:"/",component:v,exact:!0}),Object(c.jsx)(j.a,{path:"/questions",component:p,exact:!0}),Object(c.jsx)(j.a,{path:"/result",component:x,exact:!0}),Object(c.jsx)(j.a,{path:"/userData",component:m,exact:!0})]})})}),document.getElementById("root")),f()}},[[39,1,2]]]);
//# sourceMappingURL=main.50df1da4.chunk.js.map